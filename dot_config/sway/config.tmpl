# vim: ft=swayconfig

set $mod Mod4

include workspaces
include looks
include keybinds

# Use Mouse+$mod to drag floating windows to their wanted position
floating_modifier $mod

input type:keyboard {
  {{ if eq .chezmoi.hostname "rgertenbach3" }}
  xkb_layout gb
  {{ else }}
  xkb_layout us
  {{ end }}
  xkb_options ctrl:nocaps
}

input "2:10:TPPS/2_Elan_TrackPoint" {
  accel_profile "adaptive"
  pointer_accel -0.3
}

input "1133:49740:Logitech_G400s_Optical_Gaming_Mouse" {
  accel_profile "flat"
  pointer_accel +0.7
}

# Notifications
exec /usr/bin/dunst

# Get a global SSH Auth sock to be able to SSH to cloudtop
exec "[[ -z $SSH_AUTH_SOCK ]] && ssh-agent -a $SSH_AUTH_SOCK"
exec sh -c "ssh-agent -s -a $SSH_AUTH_SOCK"

include /etc/sway/config.d/50-systemd-user.conf

{{ if eq .chezmoi.fqdnHostname "rgertenbach.mtv.corp.google.com" }}
exec_always {{ .chezmoi.homeDir }}/bin/autoscreen
output DP-2 bg {{ .chezmoi.homeDir }}/Pictures/DP-2.png tile '#000000'
output DP-4 bg {{ .chezmoi.homeDir }}/Pictures/DP-4.png tile '#000000'
{{ else if eq .chezmoi.hostname "nibor" }}
output DP-1 bg /home/robin/Pictures/wallpapers/DP-1.png tile '#000000'
output DP-2 bg /home/robin/Pictures/wallpapers/DP-2.png tile '#000000'
{{ else if eq .chezmoi.hostname "rgertenbach3" }}
output * bg {{ .chezmoi.homeDir }}/Pictures/pexels-francesco-ungaro-2915997.png tile '#000000'
{{ end }}
